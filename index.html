<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Ciberseguridad Inteligente: Herramientas (P√°gina √önica)</title>
    <style>
        /* --- ESTILOS GENERALES Y FUENTES --- */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        #app {
            max-width: 650px;
            margin: 0 auto;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        .main-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            padding: 15px;
            background-color: #e0f7fa;
            text-align: center;
            border-bottom: 2px solid #1976D2;
        }
        h3 {
            font-size: 1.3em;
            color: #1976D2;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }

        /* --- ESTILOS DE SECCI√ìN --- */
        .seccion-contenido {
            padding: 20px;
            margin-bottom: 20px; /* Espaciado entre secciones */
            border-radius: 4px;
        }
        
        /* Colores de las secciones (seg√∫n el c√≥digo Python original) */
        #generador { background-color: #E0F7FA; border: 1px solid #B3E5FC; }
        #evaluador { background-color: #FFFDE7; border: 1px solid #FFF9C4; }
        #mfa { background-color: #E8F5E9; border: 1px solid #C8E6C9; }
        #amenazas { background-color: #F3E5F5; border: 1px solid #E1BEE7; }
        #phishing { background-color: #FBE9E7; border: 1px solid #FFCCBC; }

        /* --- COMPONENTES --- */
        input[type="text"], input[type="number"], input[type="password"] {
            width: 90%;
            padding: 10px;
            margin: 5px 0 10px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1.1em;
        }
        button {
            padding: 10px 15px;
            background-color: #1976D2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 5px;
        }
        button:hover {
            background-color: #1565C0;
        }
        .resultado-contrasena {
            font-size: 1.2em;
            font-weight: bold;
            padding: 10px;
            background-color: #fff;
            border: 1px dashed #ccc;
            text-align: center;
            margin-top: 10px;
            user-select: all;
        }
        .credit {
            margin-top: 25px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
            font-size: 0.85em;
            font-style: italic;
            text-align: center;
            color: #666;
        }

        /* --- EVALUADOR ESPEC√çFICO --- */
        .fortaleza-bar {
            background-color: #eee;
            border-radius: 4px;
            height: 20px;
            width: 100%;
            margin-top: 10px;
            overflow: hidden;
            position: relative;
        }
        .fortaleza-fill {
            height: 100%;
            transition: width 0.5s ease-in-out;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        .recomendaciones {
            border-left: 3px solid #1976D2;
            padding: 10px 0 10px 10px;
            margin-top: 15px;
            white-space: pre-wrap;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 4px;
        }

        /* --- MFA Y GLOSARIO --- */
        .mfa-sugerencias, .amenaza-detalle {
            background-color: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        .amenaza-detalle h4 {
            margin-top: 0;
            margin-bottom: 5px;
            color: #C62828;
            font-size: 1.1em;
        }
        .phishing-opciones label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div id="app">
    <div class="main-title">üõ°Ô∏è Ciberseguridad Inteligente: Herramientas</div>

    <div id="generador" class="seccion-contenido">
        <h3>üîë Generador de Contrase√±as Seguras</h3>
        
        <div style="display: flex; gap: 20px; margin-bottom: 15px; flex-wrap: wrap;">
            <div>
                <label>Longitud:</label>
                <input type="number" id="longitud" value="12" min="8" max="30" style="width: 80px;"/>
            </div>
            <div>
                <label><input type="checkbox" id="mayusculas" checked> Incluir may√∫sculas</label><br>
                <label><input type="checkbox" id="minusculas" checked> Incluir min√∫sculas</label>
            </div>
            <div>
                <label><input type="checkbox" id="numeros" checked> Incluir n√∫meros</label><br>
                <label><input type="checkbox" id="simbolos" checked> Incluir s√≠mbolos (@#$)</label>
            </div>
        </div>

        <button onclick="generarContrasenaWeb()">Generar Contrase√±a Segura</button>

        <p style="margin-top: 20px;">Contrase√±a Generada:</p>
        <div id="resultado-contrasena" class="resultado-contrasena"></div>
        
        <div class="credit">Cr√©dito: Ing. CESAR CARDENAS LATORRE</div>
    </div>

    <div id="evaluador" class="seccion-contenido">
        <h3>üìà Evaluador de Fortaleza de Contrase√±as</h3>
        <p>Introduce tu contrase√±a para evaluarla:</p>
        <input type="password" id="evaluar-input" placeholder="Escribe aqu√≠ tu contrase√±a" onkeyup="evaluarContrasenaWeb()">
        
        <div class="fortaleza-bar">
            <div id="fortaleza-fill" class="fortaleza-fill" style="width: 0%; background-color: #ccc;"></div>
        </div>
        
        <p style="margin-top: 20px;">Fortaleza y Recomendaciones:</p>
        <div id="evaluacion-resultado" class="recomendaciones"></div>
        
        <div class="credit">Cr√©dito: Ing. CESAR CARDENAS LATORRE</div>
    </div>

    <div id="mfa" class="seccion-contenido">
        <h3>üîí ¬øQu√© es MFA? (Autenticaci√≥n multifactor)</h3>
        <p>La autenticaci√≥n multifactor a√±ade una capa extra de protecci√≥n a tus cuentas. Ejemplo: adem√°s de la contrase√±a, debes introducir un c√≥digo que recibes en tu tel√©fono o app como Google Authenticator.</p>
        
        <button onclick="simularMFA()">Simular activaci√≥n MFA</button>
        
        <div id="mfa-sugerencias" class="mfa-sugerencias" style="display: none;">
            <h4>Sugerencias: C√≥mo activar MFA en tu dispositivo</h4>
            <ol style="padding-left: 20px;">
                <li>Accede a la configuraci√≥n de seguridad de tu cuenta (ej. Google, Facebook, banco).</li>
                <li>Selecciona la opci√≥n 'Activar autenticaci√≥n multifactor' (2FA/MFA).</li>
                <li>Descarga una app de autenticaci√≥n como Google Authenticator o Authy en tu smartphone.</li>
                <li>Escanea el c√≥digo QR que aparece en la pantalla de tu ordenador con la app de autenticaci√≥n.</li>
                <li>Introduce el c√≥digo temporal generado por la app en la pantalla de configuraci√≥n de tu cuenta.</li>
                <li>¬°Listo! Tu cuenta tiene doble protecci√≥n.</li>
            </ol>
        </div>
        <div class="credit">Cr√©dito: Ing. CESAR CARDENAS LATORRE</div>
    </div>

    <div id="amenazas" class="seccion-contenido">
        <h3>‚ö†Ô∏è Glosario de Amenazas Comunes</h3>

        <div class="amenaza-detalle">
            <h4>1. üé£ Phishing (Suplantaci√≥n de Identidad)</h4>
            <p>Es cuando un atacante se hace pasar por una entidad de confianza (como tu banco o una red social) en un correo, mensaje o llamada. El objetivo es robar tus datos de acceso o informaci√≥n sensible.</p>
            <p style="color: #C62828; font-weight: bold;">‚ñ∂Ô∏è Cuidado si el mensaje pide: Datos urgentes o que hagas clic en un enlace que no conoces.</p>
        </div>

        <div class="amenaza-detalle">
            <h4>2. ü¶† Malware (Software Malicioso)</h4>
            <p>Es cualquier programa dise√±ado para da√±ar, robar informaci√≥n o acceder sin permiso a tu dispositivo. Incluye virus, troyanos y ransomware (que bloquea tus archivos).</p>
            <p style="color: #C62828; font-weight: bold;">‚ñ∂Ô∏è Cuidado si: Descargas archivos de sitios web desconocidos o no tienes un antivirus activo.</p>
        </div>
        
        <div class="credit">Cr√©dito: Ing. CESAR CARDENAS LATORRE</div>
    </div>

    <div id="phishing" class="seccion-contenido">
        <h3>üé£ Ejercicio Phishing (Entrenamiento)</h3>
        <p style="font-weight: bold;">¬øCu√°l de los siguientes correos parece phishing?</p>

        <div class="phishing-opciones">
            <label><input type="radio" name="phishing_quiz" value="A"> A: Correo de banco con remitente oficial, sin errores.</label>
            <label><input type="radio" name="phishing_quiz" value="B"> B: Correo solicitando datos urgentes y con enlace extra√±o.</label>
            <label><input type="radio" name="phishing_quiz" value="C"> C: Correo de amigo sin solicitud de datos ni enlaces.</label>
        </div>

        <button onclick="verResultadoPhishing()">Ver resultado</button>

        <div class="credit">Cr√©dito: Ing. CESAR CARDENAS LATORRE</div>
    </div>
</div>

<script>
    // ==============================================================================
    // ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†1. L√ìGICA DE CIBERSEGURIDAD (Funciones Base en JS)
    // ==============================================================================

    const CARACTERES = {
        MAYUS: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
        MINUS: 'abcdefghijklmnopqrstuvwxyz',
        NUMEROS: '0123456789',
        SIMBOLOS: '!@#$%^&*()_+={}[];:"<,>.?/\\|`~-'
    };

    function randomChoice(str) {
        return str.charAt(Math.floor(Math.random() * str.length));
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function generar_contrasena_segura(longitud, mayusculas, minusculas, numeros, simbolos) {
        let caracteres_disponibles = [];
        let caracteres_obligatorios = [];

        if (mayusculas) {
            caracteres_disponibles.push(CARACTERES.MAYUS);
            caracteres_obligatorios.push(randomChoice(CARACTERES.MAYUS));
        }
        if (minusculas) {
            caracteres_disponibles.push(CARACTERES.MINUS);
            caracteres_obligatorios.push(randomChoice(CARACTERES.MINUS));
        }
        if (numeros) {
            caracteres_disponibles.push(CARACTERES.NUMEROS);
            caracteres_obligatorios.push(randomChoice(CARACTERES.NUMEROS));
        }
        if (simbolos) {
            caracteres_disponibles.push(CARACTERES.SIMBOLOS);
            caracteres_obligatorios.push(randomChoice(CARACTERES.SIMBOLOS));
        }

        if (caracteres_obligatorios.length === 0) {
            return "Error: Selecciona tipos de caracteres.";
        }
        
        const todos_caracteres = caracteres_disponibles.join("");
        let longitud_minima = caracteres_obligatorios.length;

        if (longitud < longitud_minima) {
             longitud = longitud_minima;
        }

        let caracteres_relleno = Array.from({ length: longitud - longitud_minima }, () => randomChoice(todos_caracteres));
        
        let contrasena_array = caracteres_obligatorios.concat(caracteres_relleno);
        
        return shuffleArray(contrasena_array).join("");
    }

    function evaluar_contrasena(contrasena) {
        let puntuacion = 0;
        let comentarios = [];
        const puntuacion_maxima = 6;
        const longitud = contrasena.length;
        
        // 1. Longitud
        if (longitud >= 12) {
            puntuacion += 2;
            comentarios.push("‚úÖ Longitud adecuada (m√°s de 12 caracteres).");
        } else if (longitud >= 8) {
            puntuacion += 1;
            comentarios.push("‚ö†Ô∏è Longitud aceptable, pero se recomienda m√°s de 12 caracteres.");
        } else {
            comentarios.push("‚ùå La contrase√±a es demasiado corta (menos de 8 caracteres).");
        }

        // 2. May√∫sculas
        if (/[A-Z]/.test(contrasena)) {
            puntuacion += 1;
            comentarios.push("‚úÖ Incluye letras may√∫sculas.");
        } else {
            comentarios.push("‚ö†Ô∏è Falta incluir letras may√∫sculas.");
        }

        // 3. Min√∫sculas
        if (/[a-z]/.test(contrasena)) {
            puntuacion += 1;
            comentarios.push("‚úÖ Incluye letras min√∫sculas.");
        }

        // 4. N√∫meros
        if (/\d/.test(contrasena)) {
            puntuacion += 1;
            comentarios.push("‚úÖ Incluye n√∫meros.");
        } else {
            comentarios.push("‚ö†Ô∏è Falta incluir n√∫meros.");
        }

        // 5. S√≠mbolos
        if (/[!@#$%^&*()_+={}[\]:;"'<,>.?/\\|`~-]/.test(contrasena)) {
            puntuacion += 1;
            comentarios.push("‚úÖ Incluye s√≠mbolos.");
        } else {
            comentarios.push("‚ö†Ô∏è Falta incluir s√≠mbolos.");
        }

        // 6. Fortaleza (Texto)
        let fortaleza;
        if (puntuacion >= 6) {
            fortaleza = "üåü ¬°Excelente! Contrase√±a muy fuerte.";
        } else if (puntuacion >= 4) {
            fortaleza = "üëç Buena. Contrase√±a de fortaleza media.";
        } else {
            fortaleza = "üö® D√©bil. Debe mejorar la longitud y complejidad.";
        }
            
        return { fortaleza, comentarios, puntuacion, puntuacion_maxima };
    }

    // ==============================================================================
    // ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†2. MANEJO DE LA INTERFAZ (JS)
    // ==============================================================================
    
    // --- L√ìGICA DEL GENERADOR ---
    function generarContrasenaWeb() {
        const longitud = parseInt(document.getElementById('longitud').value);
        const mayusculas = document.getElementById('mayusculas').checked;
        const minusculas = document.getElementById('minusculas').checked;
        const numeros = document.getElementById('numeros').checked;
        const simbolos = document.getElementById('simbolos').checked;

        const pwd = generar_contrasena_segura(longitud, mayusculas, minusculas, numeros, simbolos);
        document.getElementById('resultado-contrasena').textContent = pwd;
    }

    // --- L√ìGICA DEL EVALUADOR ---
    function evaluarContrasenaWeb() {
        const contrasena = document.getElementById('evaluar-input').value;
        const resultadoDiv = document.getElementById('evaluacion-resultado');
        const fillBar = document.getElementById('fortaleza-fill');

        if (contrasena.length === 0) {
            resultadoDiv.textContent = "Introduce una contrase√±a para evaluarla.";
            fillBar.style.width = '0%';
            fillBar.style.backgroundColor = '#ccc';
            fillBar.textContent = '';
            return;
        }

        const { fortaleza, comentarios, puntuacion, puntuacion_maxima } = evaluar_contrasena(contrasena);
        
        resultadoDiv.innerHTML = `<strong>${fortaleza}</strong><br><br>Detalles:<br>${comentarios.join('\n')}`;

        // L√≥gica de la barra de progreso
        const porcentaje = (puntuacion / puntuacion_maxima) * 100;
        let color;
        if (puntuacion >= 6) color = '#4CAF50'; // Verde
        else if (puntuacion >= 4) color = '#FF9800'; // Naranja
        else color = '#F44336'; // Rojo

        fillBar.style.width = `${porcentaje}%`;
        fillBar.style.backgroundColor = color;
        fillBar.textContent = `${puntuacion}/${puntuacion_maxima}`;
    }

    // --- L√ìGICA DEL QUIZ DE PHISHING ---
    function verResultadoPhishing() {
        const radios = document.getElementsByName('phishing_quiz');
        let respuesta = null;

        for (let i = 0; i < radios.length; i++) {
            if (radios[i].checked) {
                respuesta = radios[i].value;
                break;
            }
        }

        let mensaje, titulo;
        if (respuesta === 'B') {
            mensaje = "‚úÖ ¬°CORRECTO! El correo que solicita datos urgentes y contiene un enlace extra√±o es el indicio cl√°sico de un ataque de phishing. Nunca hagas clic.";
            titulo = "Resultado Correcto";
        } else if (respuesta === 'A' || respuesta === 'C') {
            mensaje = "‚ùå INCORRECTO. El phishing utiliza la urgencia y enlaces maliciosos. La respuesta correcta es la opci√≥n B.";
            titulo = "Resultado Incorrecto";
        } else {
            mensaje = "Por favor, selecciona una opci√≥n para ver el resultado.";
            titulo = "Advertencia";
        }

        alert(`${titulo}\n\n${mensaje}`);
    }

    // --- L√ìGICA DEL MFA ---
    function simularMFA() {
        alert("Simulaci√≥n MFA\n\nEl proceso real inicia la configuraci√≥n. ¬°Ahora mira las sugerencias abajo para continuar!");
        document.getElementById('mfa-sugerencias').style.display = 'block';
    }
</script>

</body>
</html>